(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={overlay:"Modal_overlay__2SdUF",modal:"Modal_modal__ORh8j"}},14:function(e,t,n){e.exports={container:"Loader_container__1P7Yn"}},15:function(e,t,n){e.exports={gallery:"imageGallery_gallery__270q7"}},16:function(e,t,n){e.exports={button:"Button_button__1lmPI"}},17:function(e,t,n){e.exports={container:"App_container__2_G9m"}},23:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(6),r=n.n(o),i=(n(22),n(23),n(11)),s=n(3),u=n(5),l=n.n(u),b=n(1);function j(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(b.jsx)("header",{className:l.a.searchbar,children:Object(b.jsxs)("form",{className:l.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()&&(t(o),r(""))},children:[Object(b.jsx)("button",{type:"submit",className:l.a.button,children:Object(b.jsx)("span",{className:"label"})}),Object(b.jsx)("input",{className:l.a.input,name:"searchQuery",value:o,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value.toLowerCase())}})]})})}var m=n(13),h=n.n(m),d=(n(45),n(14)),f=n.n(d),O=function(){return Object(b.jsx)("div",{className:f.a.container,children:Object(b.jsx)(h.a,{type:"BallTriangle",color:"#3f51b5",height:80,width:80,timeout:3e3})})},_=n(12),g=n(9),p=n.n(g),x=function(e){var t=e.id,n=e.webformatURL,a=e.largeImageURL,c=e.tags,o=e.onClick;return Object(b.jsx)("li",{className:p.a.item,children:Object(b.jsx)("img",{src:n,"data-source":a,alt:c,className:p.a.image,onClick:function(e){return o(e.currentTarget)}})},t)},v=n(15),y=n.n(v),S=function(e){var t=e.images,n=e.onClick;return Object(b.jsx)("ul",{className:y.a.gallery,children:t.length>0&&t.map((function(e){return x(Object(_.a)(Object(_.a)({},e),{},{onClick:n}))}))})},w=n(16),k=n.n(w),C=function(e){var t=e.onLoadMore;return Object(b.jsx)("button",{type:"button",className:k.a.button,onClick:function(){return t()},children:"Load more"})},N=n(10),L=n.n(N),I=document.querySelector("#modal-root");function E(e){var t=e.imageModal,n=e.onClose;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));function c(e){"Escape"===e.code&&n()}return Object(o.createPortal)(Object(b.jsx)("div",{className:L.a.overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(b.jsx)("div",{className:L.a.modal,children:Object(b.jsx)("img",{src:t.dataset.source,alt:t.alt})})}),I)}var M={fetchImages:function(e,t){var n="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22026737-4ace7165bbd581938b49ded93","&image_type=photo&orientation=horizontal&per_page=12");return fetch(n).then((function(e){return e.json()}))}},F=n(17),T=n.n(F);function q(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),r=Object(s.a)(o,2),u=r[0],l=r[1],m=Object(a.useState)([]),h=Object(s.a)(m,2),d=h[0],f=h[1],_=Object(a.useState)(!1),g=Object(s.a)(_,2),p=g[0],x=g[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),w=y[0],k=y[1],N=Object(a.useState)(!1),L=Object(s.a)(N,2),I=L[0],F=L[1],q=Object(a.useState)(""),G=Object(s.a)(q,2),B=G[0],P=G[1],Q=Object(a.useState)(null),R=Object(s.a)(Q,2),U=R[0],z=R[1];function J(){F((function(e){return!e}))}Object(a.useEffect)((function(){n&&(x(!0),k(!1),M.fetchImages(n,u).then((function(e){var t=e.hits;0===t.length&&z("Sorry, search returned no results. Enter correct query."),12===t.length&&k(!0),f((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),K()})).catch((function(e){return z(e)})).finally((function(){return x(!1)})))}),[u,n]);var K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(b.jsxs)("div",{className:T.a.container,children:[Object(b.jsx)(j,{onSubmit:function(e){c(e),f([]),l(1),z(""),k(!1)}}),p&&Object(b.jsx)(O,{}),U&&Object(b.jsx)("p",{children:U}),Object(b.jsx)(S,{images:d,onClick:function(e){P(e),J()}}),w&&Object(b.jsx)(C,{onLoadMore:function(){l((function(e){return e+1}))}}),I&&Object(b.jsx)(E,{imageModal:B,onClose:J})]})}r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__2ZbzK",searchForm:"Searchbar_searchForm__3d1tX",button:"Searchbar_button__3oChV",label:"Searchbar_label__3QspF",input:"Searchbar_input__xvLmL"}},9:function(e,t,n){e.exports={item:"ImageGalleryItem_item__TnKjS",image:"ImageGalleryItem_image__2Ot1Q"}}},[[46,1,2]]]);
//# sourceMappingURL=main.8b1512fb.chunk.js.map